<?php
    $fd = fopen (__FILE__, "r");
    $contents = fread ($fd, filesize (__FILE__));
    fclose ($fd);
    preg_match("/<h1[^>]*>([^<]*)<\/h1>/","$contents",$matches);
    $pagtit = $matches[1];
    require_once("/home/httpd/html/PHYSIOME/tpt/phead.html"); ?>

<h1>MML Examples Page</h1>

<p>This is a collection of simple models illustrating the various <a
href="../../docs/MML.html"> MML constructs</a> and <a
href="../../docs/User.html"> GUI features</a>.</p>

<?php
  function dodir($DIR, $DESC) {
  $files=array();
  $d = opendir($DIR); #open directory
  while ($f = readdir($d)) { 
    if (ereg("\.mod",$f)){
      $b = ereg_replace("\.mod", "", $f);
      $files[] = $b;
//      print '<p>' . $b . "</p>\n";
    }
  }
  
  print '<h3><a href="../../docs/' . $DIR . '.html">' 
     . $DESC . "</a></h3>\n";
  print '<table border=true cellspacing=0 cellpadding=2>';
  print '<tr><th>Model</th><th>View</th><th>Run</th><th>Description</th></tr>';

  foreach ($files as $key => $f) {
    print "<tr>\n";
    $MOD = $DIR . "/" . $f . ".mod";
    print '<td>' . $f . "</td>\n";
    print '<td><a href="' . $MOD . '">MML</a></td>' . "\n";
    print '<td><a href="../applet.html?examples/' . $MOD 
      . '">Applet</a></td>' . "\n";
    $DESC=shell_exec("head -1 " . $MOD);
    print '<td>' . $DESC . "</td>\n";
    print "</tr>\n\n";   
  }

  print '</table>';
  }

  dodir("MML_Basics", "Introductory Survey of MML");
  dodir("MML_Units", "Physical Units");
  dodir("MML_PDE", "Partial differential equations (PDEs)");
  dodir("MML_Integrals", "Integrals & Summations");
  dodir("MML_Implicit", "Implicit Equations");
  dodir("MML_Events", "Events");
  dodir("MML_Func_Java", "Functions & Procedures in Java");
  dodir("MML_Func_Intro", "");
  dodir("MML_Templates", "Templates (reusable model components)");
  dodir("MML_MFAX_Intro", "MFAX template library");
  dodir("MML_Topics", "Miscellaneous short topics in MML");
  dodir("User", "GUI tutorials");
  dodir("MML", "Miscellaneous");
?>


<?php require_once("/home/httpd/html/PHYSIOME/tpt/ptail.html") ?>
